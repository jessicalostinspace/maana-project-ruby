
<script type="text/javascript">
	google.charts.load('current', {packages: ['corechart', 'bar']});
	google.charts.setOnLoadCallback(drawBasic);

	function drawBasic() {
	  var data = google.visualization.arrayToDataTable([
			        ['Word Count', 'Occurences'],
					<% last = @counts.pop %>
					<% @counts.each do |pair| %>
					<%= "[#{pair[0].to_s},#{pair[1]}]," %>
					<% end %>
					<%= "[#{last[0].to_s},#{last[1]}]" %>
		      ]);

	  var options = {
	    chart: {
		      title: 'Word Count Occurences',
		      // subtitle: 'Based on most recent and previous census data'
		    },
		    hAxis: {
		      title: 'Word Count',
		      minValue: 0,
		      // baselin: 1,
		    },
		    vAxis: {
		      title: 'Occurences',
		      direction: -1,
		    },
		    bars: 'horizontal',
		    axes: {
		      y: {
		        0: {side: 'left'}
		      },
		      x: {
		      	0: {side: 'bottom'}
		      },
		    },
		    legend: {
		    	position: 'none',
		    },
		    bar: { groupWidth: "70%" },
		  };
  var material = new google.charts.Bar(document.getElementById('chart_div'));
  material.draw(data, options);
}

</script>